ğŸ—‚ï¸ 1. Tabela data_clients
Armazena os clientes que possuem dispositivos IoT.
ğŸ“Œ Campos:

id â†’ Identificador Ãºnico do cliente.
name â†’ Nome do cliente.
email â†’ E-mail Ãºnico do cliente.
phone â†’ NÃºmero de telefone (opcional).
created_at â†’ Data e hora do cadastro.
ğŸ”— Relacionamento:

id se relaciona com client_id na tabela link_device (um cliente pode ter vÃ¡rios dispositivos).
ğŸ”— 2. Tabela link_device
Faz a ligaÃ§Ã£o entre um cliente e um dispositivo IoT, indicando se ele estÃ¡ autorizado.
ğŸ“Œ Campos:

id â†’ Identificador Ãºnico da associaÃ§Ã£o.
client_id â†’ Cliente dono do dispositivo (referÃªncia para data_clients).
hardware_id â†’ IdentificaÃ§Ã£o Ãºnica do dispositivo IoT.
authorized â†’ 0 (nÃ£o autorizado) | 1 (autorizado).
created_at â†’ Data de cadastro da relaÃ§Ã£o.
ğŸ”— Relacionamento:

client_id Ã© uma chave estrangeira para data_clients(id), garantindo que cada dispositivo esteja vinculado a um cliente.
hardware_id Ã© Ãºnico, ou seja, um dispositivo sÃ³ pode estar vinculado a um cliente por vez.
O campo authorized serve para permitir ou bloquear o funcionamento do dispositivo.
ğŸ“¡ 3. Tabela data_iot
Armazena os dados coletados dos dispositivos IoT.
ğŸ“Œ Campos:

id â†’ Identificador Ãºnico do registro.
hardware_id â†’ Dispositivo que enviou os dados.
credit â†’ CrÃ©dito disponÃ­vel no dispositivo (se aplicÃ¡vel).
salescounter â†’ Contador de vendas realizadas (se aplicÃ¡vel).
temperature â†’ Temperatura registrada pelo dispositivo.
timestamp â†’ Data e hora do registro.
uptime -> tempo do hardware ligado.
ğŸ”— Relacionamento:

hardware_id Ã© uma chave estrangeira que referencia link_device(hardware_id), garantindo que os dados sejam apenas de dispositivos cadastrados.
Se um dispositivo for excluÃ­do de link_device, seus dados em data_iot tambÃ©m serÃ£o excluÃ­dos automaticamente (ON DELETE CASCADE).
ğŸ‘¤ 4. Tabela system_user
Gerencia os usuÃ¡rios do sistema (operadores e administradores).
ğŸ“Œ Campos:

id â†’ Identificador Ãºnico do usuÃ¡rio.
name â†’ Nome do usuÃ¡rio.
email â†’ E-mail Ãºnico.
password_hash â†’ Senha armazenada de forma segura (hash).
role â†’ 0 (Operador) | 1 (Administrador).
created_at â†’ Data de criaÃ§Ã£o.
ğŸ” Regras de Acesso:

Admin (role = 1) â†’ Pode gerenciar dispositivos e clientes.
Operador (role = 0) â†’ Pode visualizar dados, mas sem acesso total ao sistema.
ğŸ“Š Relacionamentos no Banco
1ï¸âƒ£ Clientes (data_clients) podem ter vÃ¡rios dispositivos (link_device).
2ï¸âƒ£ Dispositivos (link_device) armazenam dados IoT (data_iot).
3ï¸âƒ£ UsuÃ¡rios (system_user) gerenciam e acessam o sistema.

ğŸ” Exemplo de Consulta para Juntar as Tabelas:
sql
Copiar
Editar
SELECT c.name AS cliente, d.hardware_id, d.authorized, i.credit, i.salescounter, i.temperature, i.timestamp
FROM data_clients c
JOIN link_device d ON c.id = d.client_id
LEFT JOIN data_iot i ON d.hardware_id = i.hardware_id
WHERE d.authorized = 1;
ğŸ”¹ Esse comando mostra todos os dispositivos autorizados com seus dados coletados.